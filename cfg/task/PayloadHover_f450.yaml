name: PayloadHover_F450

defaults:
  # see https://hydra.cc/docs/advanced/overriding_packages/
  - /base/env_base@_here_
  - /base/sim_base@_here_
  # - /base/randomization_base@_here_

drone_model:
  name: hummingbird_f450 #hummingbird # hummingbird_f450
  controller: LeePositionController

time_encoding: false #true

############## Step 1: Pre-training ############################
# sim:
#   dt: 0.016  #TODO: 0.005, 0.016

# env:
#   num_envs: 1024  #1024 #2048 #1 #512 #128
#   env_spacing: 6
#   max_episode_length: 800 #1400 #500 #(default: 500)

# trajectory_collection: false
# domain_adaptation: false

# randomization:
#   drone:
#     train:
#       mass_scale: [0.9, 1.1] 
#       inertia_scale: [0.9, 1.1]
#       c_tf_scale: [0.9, 1.1]
#       com: [-0.01, 0.01]

# bar_length: 1.
# payload_mass_scale: [0.9, 1.1]

# rwd_gains:
#   Cy: 6.0
#   Cy_dot: 0.4
#   Cq: 0.2
#   Cw: 0.2
#   Cb1: 6.0
#   CW: 0.6
#   CIy: 0.1
#   CIb1: 0.1
#   rwd_alpha: 0.01
#   rwd_beta: 0.05
#   rwd_k_exp: 7.
#   CR: 1.0

############## Step 2: Real data collection #########################
# sim:
#   dt: 0.016  #TODO: 0.005, 0.016

# env:
#   num_envs: 1
#   env_spacing: 6
#   # max_episode_length: 500 #(default: 500)

# trajectory_collection: true
# domain_adaptation: false

# randomization:
#   drone:
#     train:
#       mass_scale: [1.2, 1.2] #[1.3, 1.3] #[0.6, 0.6] #[0.9, 1.1]
#       inertia_scale: [1.2, 1.2] #[1.3, 1.3] #[0.6, 0.6] #[0.9, 1.1]
#       c_tf_scale: [1.0, 1.0] #[0.9, 1.1]
#       com: [0.02, 0.02] #[0.01, 0.01] #[-0.03, 0.03]

# bar_length: 1.1 #1.4 #0.6 #1.0
# payload_mass_scale: [1.2, 1.2] #[1.3, 1.3] #[0.9, 1.1] #[1.4, 1.4] #[0.6, 0.6] #[1., 1.]

# rwd_gains:
#   rwd_k_exp: 7.
#   Cy: 3.0 #6.0
#   Cy_dot: 1.5 # <- 2.0 #0.4
#   Cq: 1.0 #0.2
#   Cw: 0.5 # <-1.0 #0.2
#   Cb1: 1.0 # <-0.5 #6.0
#   CR: 1.0
#   CW: 0.5 #0.01 #0.2 # <-0.5 # <-1.0 #0.6
#   CIy: 0. #0.1
#   CIb1: 0. #0.1
#   rwd_alpha: 0.01
#   rwd_beta: 0.05

############## Step 3: Delta action model ######################
sim:
  dt: 0.016  #TODO: 0.005, 0.016

env:
  num_envs: 2048 #1024 #2048 #512 #128
  env_spacing: 6
  # max_episode_length: 500 #(default: 500)

trajectory_collection: false
domain_adaptation: true

bar_length: 1.
payload_mass_scale: [1., 1.]

rwd_gains:
  rwd_k_exp: 9. #7.
  Cy: 3.0 #6.0
  Cy_dot: 1.5 # <- 2.0 #0.4
  Cq: 1.0 #0.2
  Cw: 0.5 # <-1.0 #0.2
  Cb1: 1.0 # <-0.5 #6.0
  CR: 1.0
  CW: 0.5 #0.01 #0.2 # <-0.5 # <-1.0 #0.6
  CIy: 0. #0.1
  CIb1: 0. #0.1
  rwd_alpha: 0.01
  rwd_beta: 0.05

############## Step 4: Fine-tuning ############################
# sim:
#   dt: 0.016  #TODO: 0.005, 0.016

# env:
#   num_envs: 1 #1024  #1024 #2048 #1 #512 #128
#   env_spacing: 6
#   max_episode_length: 800 #1400 #500 #(default: 500)

# trajectory_collection: false
# domain_adaptation: false

# bar_length: 1.
# payload_mass_scale: [1., 1.]

# rwd_gains:
#   Cy: 6.0
#   Cy_dot: 0.4
#   Cq: 0.2
#   Cw: 0.2
#   Cb1: 6.0
#   CW: 0.6
#   CIy: 0.1
#   CIb1: 0.1
#   rwd_alpha: 0.01
#   rwd_beta: 0.05
#   rwd_k_exp: 7.
#   CR: 1.0
################################################################

inverted_pendulum: false #true
payload_radius: 0.05
payload_mass: 0.05
drone_scale: 1.35

push_force_scale: [0., 0., 0.] #[0.4, 0.4, .2]  #[0., 0., 0.] #[0.5, 0.5, .2] #[1., 1., .5]
push_interval: 0. #10. #2. #5.

action_transform: null